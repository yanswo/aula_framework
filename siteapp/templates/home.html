{% extends "base.html" %}
{% block title %} Início - Portal do Aluno {% endblock %}

{% block content %}
{% if user.is_authenticated %}
<div>
    <h1 class="page-title">Olá, {{ user.first_name|default:user.username }}!</h1>
    <p class="page-subtitle">Bem-vindo(a) de volta ao seu portal acadêmico.</p>

    <div class="grid-container quick-access-grid mb-5">
        <a href="#" class="card dashboard-card">
            <div class="card-icon"><i class="bi bi-collection-fill"></i></div>
            <h5 class="card-title-text">Minhas Disciplinas</h5>
        </a>
        <a href="#" class="card dashboard-card">
            <div class="card-icon"><i class="bi bi-file-earmark-text-fill"></i></div>
            <h5 class="card-title-text">Notas e Frequência</h5>
        </a>
        <a href="#" class="card dashboard-card">
            <div class="card-icon"><i class="bi bi-cash-coin"></i></div>
            <h5 class="card-title-text">Financeiro</h5>
        </a>
        <a href="#" class="card dashboard-card">
            <div class="card-icon"><i class="bi bi-pencil-square"></i></div>
            <h5 class="card-title-text">Requerimentos</h5>
        </a>
    </div>

    <div class="grid-container section-grid mb-5">
        <div class="card">
            <div class="card-header">Sua Grade de Hoje</div>
            <div class="card-body">
                <table class="schedule-table">
                    <tbody>
                        <tr>
                            <td><span class="time">08:00 - 09:50</span></td>
                            <td><span class="subject">Cálculo Diferencial e Integral</span></td>
                            <td><span>Sala 203</span></td>
                        </tr>
                        <tr>
                            <td><span class="time">10:00 - 11:50</span></td>
                            <td><span class="subject">Algoritmos e Estrutura de Dados</span></td>
                            <td><span>Lab. de Informática 04</span></td>
                        </tr>
                         <tr>
                            <td><span class="time">14:00 - 15:50</span></td>
                            <td><span class="subject">Física para Computação</span></td>
                            <td><span>Sala 101</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card avisos-list">
            <div class="card-header">Avisos Importantes</div>
            <div class="card-body">
                <a href="#" class="list-group-item">
                    <div class="d-flex w-100 justify-content-between">
                        <h6 class="aviso-title">Matrículas 2025.2 Abertas</h6>
                        <small class="aviso-date">há 2 dias</small>
                    </div>
                    <p class="aviso-body">O período para solicitação de matrícula já está aberto no sistema.</p>
                </a>
                <a href="#" class="list-group-item">
                    <div class="d-flex w-100 justify-content-between">
                        <h6 class="aviso-title">Palestra sobre Carreira em TI</h6>
                        <small class="aviso-date">há 5 dias</small>
                    </div>
                    <p class="aviso-body">Participe no dia 15/09, às 19h, no auditório principal.</p>
                </a>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">Desempenho Acadêmico</div>
        <div class="card-body performance-list">
            <div class="subject-item">
                <div class="subject-info">
                    <div class="subject-name">Cálculo Diferencial e Integral</div>
                    <div class="progress-bar">
                        <div class="progress" style="width: 85%;"></div>
                    </div>
                </div>
                <div class="subject-grade">8.5</div>
            </div>
            <div class="subject-item">
                <div class="subject-info">
                    <div class="subject-name">Algoritmos e Estrutura de Dados</div>
                    <div class="progress-bar">
                        <div class="progress" style="width: 92%;"></div>
                    </div>
                </div>
                <div class="subject-grade">9.2</div>
            </div>
            <div class="subject-item">
                <div class="subject-info">
                    <div class="subject-name">Comunicação e Expressão</div>
                    <div class="progress-bar">
                        <div class="progress" style="width: 78%;"></div>
                    </div>
                </div>
                <div class="subject-grade">7.8</div>
            </div>
        </div>
    </div>
</div>

{% else %}
<div class="public-hero">
    <h1 class="display-3 fw-bold">Portal do Aluno</h1>
    <p class="lead col-lg-10 mx-auto">
        Acesse suas notas, disciplinas e calendário acadêmico em um só lugar. Organize sua vida acadêmica com facilidade.
    </p>
    <div class="actions">
        <a href="{% url 'login' %}" class="btn btn-primary">Fazer Login</a>
        <a href="{% url 'signup' %}" class="btn btn-outline">Criar Conta</a>
    </div>
</div>
{% endif %}
{% endblock %}